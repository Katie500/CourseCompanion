@using Syncfusion.Blazor
@using Syncfusion.Blazor.Navigations
@using Syncfusion.Blazor.Cards
@using Syncfusion.Blazor.Buttons
@inject HttpClient Http

<div class="courseAccordian" id="courseCards">

    @if (courses == null)
    {
        <p><em>Loading...</em></p>
    }
    else
    {

        @foreach (var course in courses)
        {
        <div style="scroll-padding-top: 15px; padding-bottom: 15px">

            <div class="e-card">
                <SfCard @key="course.Id">
                    <CardHeader Title="@course.Id"></CardHeader>
                    <Collapsable Title="@course.Title" Collapsed="true">
                        <body>
                            <p>
                                @course.Description
                                @course.Semester
                            </p>
                        </body>

                    </Collapsable>

                </SfCard>
            </div>
                
            </div>
        }
    }
</div>


@code {

    private CourseDetails[]? courses;

    protected override async Task OnInitializedAsync()
    {
        courses = await Http.GetFromJsonAsync<CourseDetails[]>("sample-data/courses.json");
    }

    public class CourseDetails
    {
        public string? Id { get; set; }
        public string? Title { get; set; }
        public string? Description { get; set; }
        public string? Instructor { get; set; }
        public int Levels { get; set; }
        public int Credits { get; set; }
        public string? Category { get; set; }
        public string? Semester { get; set; }
        public string? Faculty { get; set; }
    }

}

